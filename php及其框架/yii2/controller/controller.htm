<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>controller</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
html,body { 
	/* Default Font */
	font-family: Arial, Helvetica, sans-serif;
	font-size: 11pt;
}
p{
margin:0
}
</style>

</head>

<body>
<P><FONT face=微软雅黑></FONT>&nbsp;</P><PRE style="FONT-SIZE: 11.3pt; FONT-FAMILY: 'Fira Code'; COLOR: #a9b7c6; BACKGROUND-COLOR: #2b2b2b"><SPAN style="BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>       <BR></FONT></SPAN><SPAN style="BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>      <FONT size=5>        [<STRONG><EM><FONT color=#ff0000>yii\base\Component</FONT></EM></STRONG>] &lt;- [<EM><FONT color=#ff0000>yii\base\Controller</FONT></EM>] &lt;- [<EM><FONT color=#ff0000>yii\web\controller</FONT></EM>] &lt;-[<EM><FONT color=#ff0000>yii\rest\controller</FONT></EM>]</FONT><FONT size=5> &lt;- [<EM><FONT color=#ff0000>yii\rest\ActiveController</FONT></EM>]</FONT>        <BR></FONT></SPAN><FONT face=微软雅黑><SPAN style="BACKGROUND-COLOR: #232525">        <BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">如何返回</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">json</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">数据<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">    </SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">方法一<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="BACKGROUND-COLOR: #232525">Yii::</SPAN><SPAN style="COLOR: #9876aa; FONT-STYLE: italic; BACKGROUND-COLOR: #232525">$app</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">getResponse</SPAN><SPAN style="BACKGROUND-COLOR: #232525">()-&gt;</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">format </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= Response::</SPAN><SPAN style="COLOR: #9876aa; FONT-STYLE: italic; BACKGROUND-COLOR: #232525">FORMAT_JSON</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;<BR></SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">        return </SPAN><SPAN style="BACKGROUND-COLOR: #232525">[</SPAN><SPAN style="COLOR: #6a8759; BACKGROUND-COLOR: #232525">'code' </SPAN><SPAN style="BACKGROUND-COLOR: #232525">=&gt;</SPAN><SPAN style="COLOR: #6897bb; BACKGROUND-COLOR: #232525">100</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="COLOR: #6a8759; BACKGROUND-COLOR: #232525">'message' </SPAN><SPAN style="BACKGROUND-COLOR: #232525">=&gt; </SPAN><SPAN style="COLOR: #6a8759; BACKGROUND-COLOR: #232525">'</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #6a8759; BACKGROUND-COLOR: #232525">操作成功</SPAN><SPAN style="COLOR: #6a8759; BACKGROUND-COLOR: #232525">'</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="COLOR: #6a8759; BACKGROUND-COLOR: #232525">'data' </SPAN><SPAN style="BACKGROUND-COLOR: #232525">=&gt; []]</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;<BR></SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">    </SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">方法二<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">return </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">asJson</SPAN><SPAN style="BACKGROUND-COLOR: #232525">([</SPAN><SPAN style="COLOR: #6a8759; BACKGROUND-COLOR: #232525">'code' </SPAN><SPAN style="BACKGROUND-COLOR: #232525">=&gt;</SPAN><SPAN style="COLOR: #6897bb; BACKGROUND-COLOR: #232525">100</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="COLOR: #6a8759; BACKGROUND-COLOR: #232525">'message' </SPAN><SPAN style="BACKGROUND-COLOR: #232525">=&gt; </SPAN><SPAN style="COLOR: #6a8759; BACKGROUND-COLOR: #232525">'</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #6a8759; BACKGROUND-COLOR: #232525">操作成功</SPAN><SPAN style="COLOR: #6a8759; BACKGROUND-COLOR: #232525">'</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="COLOR: #6a8759; BACKGROUND-COLOR: #232525">'data' </SPAN><SPAN style="BACKGROUND-COLOR: #232525">=&gt; []])</SPAN></FONT><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>;<BR></FONT></SPAN><SPAN style="COLOR: #629755; FONT-STYLE: italic; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>/****************<STRONG><FONT color=#ff0000>yii\base\Component</FONT></STRONG>**************************************************/<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><PRE style="FONT-SIZE: 11.3pt; FONT-FAMILY: 'Fira Code'; COLOR: #a9b7c6; BACKGROUND-COLOR: #2b2b2b"><FONT face=微软雅黑><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525"><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$</SPAN>this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">behaviors</SPAN><SPAN style="BACKGROUND-COLOR: #232525">()</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">空数组</SPAN></FONT></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525"><BR></SPAN><FONT face=微软雅黑><SPAN style="COLOR: #629755; FONT-STYLE: italic; BACKGROUND-COLOR: #232525">/****************<FONT color=#ff0000>yii\base\Controller</FONT>**************************************************/<BR></SPAN><SPAN style="COLOR: #629755; FONT-STYLE: italic; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">id</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">可编辑部分<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">    </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">defaultAction </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= </SPAN><SPAN style="COLOR: #6a8759; BACKGROUND-COLOR: #232525">'index'</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;<BR></SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">layout </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= </SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">null;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">主题模板<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">actions</SPAN><SPAN style="BACKGROUND-COLOR: #232525">()</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;     </SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">定义外部方法</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">比</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">actionXXX</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">的优先级高</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">)<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">可获取实体部分<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">    </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">getUniqueId</SPAN><SPAN style="BACKGROUND-COLOR: #232525">()</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">; </SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//controllerID</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">（比如</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">site</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">）<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">    </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">getUid</SPAN><SPAN style="BACKGROUND-COLOR: #232525">()</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;      </SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">用户的</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">UID<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">getRoute</SPAN><SPAN style="BACKGROUND-COLOR: #232525">()</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;    </SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">请求路由 比如</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"> site/index<BR></SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525"><BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">运行</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">controller-action<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">run</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$route</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$params </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= [])</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">调用</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">runAction()<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">runAction</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$id</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$params </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= [])</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">调用</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">createAction()</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">和</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">getModules(),</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">嵌入</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">before</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">和</SPAN></FONT><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>after<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><BR></SPAN><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">createAction</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$id</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;<BR></SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">getModules</SPAN><SPAN style="BACKGROUND-COLOR: #232525">()</SPAN></FONT><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>;<BR></FONT></SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525"><BR></SPAN><FONT face=微软雅黑><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">beforeAction</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$action</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;<BR></SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">afterAction</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$action</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$result</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;<BR></SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">bindActionParams</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$action</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$params</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">暂时不知道有什么用<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">渲染视图</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">view<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">renderContent</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$content</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;           </SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">渲染内容</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">带主题</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">layout<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">render</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$view</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$params </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= [])</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;       </SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">渲染视图，带主题</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">layout<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">renderPartial</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$view</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$params </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= [])</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">渲染视图。不带主题<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">    </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">renderFile</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$file</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$params </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= [])</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;   </SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">下渲染文件，可以时任意文件路径<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">    </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">getView</SPAN><SPAN style="BACKGROUND-COLOR: #232525">()</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">返回</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">view</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">对象<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">    </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">getViewPath</SPAN><SPAN style="BACKGROUND-COLOR: #232525">()</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">当前</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">controller</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">的视图目录</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">绝对路径</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">)</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">比如：</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">C:\code\ExitIntent\backend\views\site<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">setView</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$view</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;<BR></SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">setViewPath</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$path</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;<BR></SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">findLayoutFile</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$view</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN></FONT><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>;<BR></FONT></SPAN><FONT face=微软雅黑><SPAN style="COLOR: #629755; FONT-STYLE: italic; BACKGROUND-COLOR: #232525">/****************<FONT color=#ff0000>yii\web\controller</FONT>**************************************************/<BR></SPAN><SPAN style="COLOR: #629755; FONT-STYLE: italic; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">enableCsrfValidation </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= </SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">true;<BR></SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">renderAjax</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$view</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$params </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= [])</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//ajax</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">方式返回一个页面<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">    </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">asJson</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$data</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//json</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">格式响应<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">    </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">asXml</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$data</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">; </SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//xml</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">格式响应<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">    </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">bindActionParams</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$action</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$params</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">？？？没懂<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">    </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">beforeAction</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$action</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">加了一个</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">csrf</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">验证<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">页面跳转<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">    </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">redirect</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$url</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$statusCode </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= </SPAN><SPAN style="COLOR: #6897bb; BACKGROUND-COLOR: #232525">302</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">调用</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">response-&gt;redirect()<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">goHome</SPAN><SPAN style="BACKGROUND-COLOR: #232525">()</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;                         </SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">调用</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">response-&gt;redirect()<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">goBack</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$defaultUrl </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= </SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">null</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;       </SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">调用</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">response-&gt;redirect()<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">refresh</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$anchor </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= </SPAN><SPAN style="COLOR: #6a8759; BACKGROUND-COLOR: #232525">''</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;            </SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">调用</SPAN></FONT><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>response-&gt;redirect()<BR></FONT></SPAN><FONT face=微软雅黑><SPAN style="COLOR: #629755; FONT-STYLE: italic; BACKGROUND-COLOR: #232525">/****************<FONT color=#ff0000>yii\rest\controller</FONT>**************************************************/<BR></SPAN><SPAN style="COLOR: #629755; FONT-STYLE: italic; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">serializer </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= </SPAN><SPAN style="COLOR: #6a8759; BACKGROUND-COLOR: #232525">'yii\rest\Serializer'</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;<BR></SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">enableCsrfValidation </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= </SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">false;<BR></SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">behaviors</SPAN><SPAN style="BACKGROUND-COLOR: #232525">()</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;<BR></SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">afterAction</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$action</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$result</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">加了数据序列化</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">  $this-&gt;serializeData($result)<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">verbs</SPAN><SPAN style="BACKGROUND-COLOR: #232525">()</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">允许的</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">http</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">动作<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">    </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">serializeData</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$data</SPAN><SPAN style="BACKGROUND-COLOR: #232525">)</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN></FONT><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>序列化数据<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//        behaviors{<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//            return [<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                'contentNegotiator' =&gt; [//内容协商。就是如何响应数据，根据reuqest的accept而定<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'class' =&gt; yii\filters\ContentNegotiator::className(),<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'formats' =&gt; [<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                        'application/json' =&gt; yii\web\Response::FORMAT_JSON,<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                        'application/xml' =&gt; yii\web\Response::FORMAT_XML,<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    ],<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                ],<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                'verbFilter' =&gt; [//http的method过滤<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'class' =&gt; yii\filters\VerbFilter::className(),<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'actions' =&gt; $this-&gt;verbs(),<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                ],<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                'authenticator' =&gt; [//认证<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'class' =&gt; yii\filters\auth\CompositeAuth::className(),<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                ],<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                'rateLimiter' =&gt; [//控流<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'class' =&gt; yii\filters\RateLimiter::className(),<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                ],<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//            ];<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//        }<BR></FONT></SPAN><PRE style="FONT-SIZE: 11.3pt; FONT-FAMILY: 'Fira Code'; COLOR: #a9b7c6; BACKGROUND-COLOR: #2b2b2b"><FONT face=微软雅黑><SPAN style="COLOR: #629755; FONT-STYLE: italic; BACKGROUND-COLOR: #232525">/****************<FONT color=#ff0000>yii\rest\ActiveController</FONT>**************************************************/<BR></SPAN><SPAN style="COLOR: #629755; FONT-STYLE: italic; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">modelClass </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= </SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">null;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//model</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">类名</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">带</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">namespace)</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">且必须集成自</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">yii\db\ActiveRecord<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">updateScenario </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= Model::</SPAN><SPAN style="COLOR: #9876aa; FONT-STYLE: italic; BACKGROUND-COLOR: #232525">SCENARIO_DEFAULT</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">更新使用到的场景<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">createScenario </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= Model::</SPAN><SPAN style="COLOR: #9876aa; FONT-STYLE: italic; BACKGROUND-COLOR: #232525">SCENARIO_DEFAULT</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">新增使用到的场景<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">init</SPAN><SPAN style="BACKGROUND-COLOR: #232525">()</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">强制要求</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">$this-&gt;&gt;modelClass</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">不为空<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">actions</SPAN><SPAN style="BACKGROUND-COLOR: #232525">()</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">预定义了多种</SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">api</SPAN></FONT><FONT face=微软雅黑><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">接口<BR></SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">verbs</SPAN><SPAN style="BACKGROUND-COLOR: #232525">()</SPAN></FONT><FONT face=微软雅黑><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">;<BR></SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">        </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$this</SPAN><SPAN style="BACKGROUND-COLOR: #232525">-&gt;</SPAN><SPAN style="COLOR: #ffc66d; BACKGROUND-COLOR: #232525">checkAccess</SPAN><SPAN style="BACKGROUND-COLOR: #232525">(</SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$action</SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">, </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$model </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= </SPAN><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525">null, </SPAN><SPAN style="COLOR: #9876aa; BACKGROUND-COLOR: #232525">$params </SPAN><SPAN style="BACKGROUND-COLOR: #232525">= [])</SPAN></FONT><SPAN style="COLOR: #cc7832; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>;//权限验证，需要自己写<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//        protected function verbs()<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//        {<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//            return [<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                'index' =&gt; ['GET', 'HEAD'],<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                'view' =&gt; ['GET', 'HEAD'],<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                'create' =&gt; ['POST'],<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                'update' =&gt; ['PUT', 'PATCH'],<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                'delete' =&gt; ['DELETE'],<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//            ];<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//        }<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//        public function actions()<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//        {<BR></FONT></SPAN><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//            return [<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//                'index' =&gt; [//</SPAN></FONT><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>按页列出资源<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'class' =&gt; 'yii\rest\IndexAction',<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'modelClass' =&gt; $this-&gt;modelClass,<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'checkAccess' =&gt; [$this, 'checkAccess'],<BR></FONT></SPAN><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//                ],<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//                'view' =&gt; [//</SPAN></FONT><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>返回指定资源的详情<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'class' =&gt; 'yii\rest\ViewAction',<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'modelClass' =&gt; $this-&gt;modelClass,<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'checkAccess' =&gt; [$this, 'checkAccess'],<BR></FONT></SPAN><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//                ],<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//                'create' =&gt; [//</SPAN></FONT><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>创建新的资源<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'class' =&gt; 'yii\rest\CreateAction',<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'modelClass' =&gt; $this-&gt;modelClass,<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'checkAccess' =&gt; [$this, 'checkAccess'],<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'scenario' =&gt; $this-&gt;createScenario,<BR></FONT></SPAN><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//                ],<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//                'update' =&gt; [//</SPAN></FONT><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>更新一个存在的资源<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'class' =&gt; 'yii\rest\UpdateAction',<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'modelClass' =&gt; $this-&gt;modelClass,<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'checkAccess' =&gt; [$this, 'checkAccess'],<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'scenario' =&gt; $this-&gt;updateScenario,<BR></FONT></SPAN><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//                ],<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//                'delete' =&gt; [//</SPAN></FONT><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>删除指定的资源<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'class' =&gt; 'yii\rest\DeleteAction',<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'modelClass' =&gt; $this-&gt;modelClass,<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'checkAccess' =&gt; [$this, 'checkAccess'],<BR></FONT></SPAN><FONT face=微软雅黑><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//                ],<BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525">//                'options' =&gt; [//</SPAN><SPAN style="FONT-FAMILY: 'Arial'; COLOR: #808080; BACKGROUND-COLOR: #232525">返回支持的</SPAN></FONT><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑> HTTP method<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                    'class' =&gt; 'yii\rest\OptionsAction',<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//                ],<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//            ];<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><FONT face=微软雅黑>//        }<BR></FONT></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><BR></SPAN><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"><BR></SPAN></PRE><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"></SPAN></PRE><SPAN style="COLOR: #808080; BACKGROUND-COLOR: #232525"></SPAN></PRE>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑>csrf安全</FONT></P>
<P><FONT face=微软雅黑>配置 </FONT> </P>
<P><FONT face=微软雅黑>config.componts.request.enableCsrfValidation 设置为true ； </FONT>  
</P>
<P><FONT face=微软雅黑>且在控制器中设置anableCsrfValidation为true。两者同时设置，csrf验证才有效。 
</FONT>  
</P>
<P><FONT face=微软雅黑>原理：用户提交的csrf的token和服务器存的token作du </FONT>  
</P>
<P><FONT face=微软雅黑>（csrf的token存放，若设置request.enableCsrfCookie为true【默认】则存在cookie中，否则存在session中） 
</FONT>  
</P>
<P><FONT face=微软雅黑></FONT> &nbsp;</P>
<P><FONT face=微软雅黑>触发验证：yii\web\controller&nbsp;-&gt; 
beforeAction($action) 。 </FONT>   
</P>
<P><FONT face=微软雅黑>核心方法：yii\web\Request 
-&gt; validateCsrfToken($clientSuppliedToken = null)。&lt; /FONT  
&gt;&lt; /FONT &gt; &lt; /FONT   
&gt;      
      
     
</P>
<P><FONT face=微软雅黑>除了[get | head | 
options]其他请求都要验证。 </FONT>    
    </P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P>
<P><FONT face=微软雅黑></FONT>&nbsp;</P></FONT></body>
</html>
